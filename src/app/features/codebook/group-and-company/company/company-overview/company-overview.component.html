<div class="d-flex justify-content-end">
  <button class="btn-empty">
    <span
      class="material-icons i-button text-primary"
      title="Dodaj firmu"
      (click)="addOrEditCompany()"
      >add_box</span
    >
  </button>
</div>
<div class="card card-absolute mt-1">
  <div class="card-header">
    <h5 class="f-20 f-w-600">Firme</h5>
  </div>
  <div class="card-body pb-1">
    <ngx-datatable
      #table
      class="datatable bootstrap"
      [columnMode]="ColumnMode"
      [columns]="tableColumns"
      [rows]="rows"
      [headerHeight]="36"
      [loadingIndicator]="loadingIndicator"
      [footerHeight]="36"
      [rowHeight]="'auto'"
      [count]="entryCount"
      [limit]="desiredPageSize"
      [offset]="desiredPageOffset"
      [externalPaging]="true"
      (page)="setPage($event)"
    >
      <ngx-datatable-column name="Naziv firme" prop="name" [width]="400">
        <ng-template
          ngx-datatable-cell-template
          let-rowIndex="rowIndex"
          let-value="value"
          let-row="row"
        >
          {{ value }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="OIB" prop="oib" [width]="200">
        <ng-template
          ngx-datatable-cell-template
          let-rowIndex="rowIndex"
          let-value="value"
          let-row="row"
        >
          {{ value }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column
        name="Akcije"
        [width]="150"
        [resizeable]="false"
        [canAutoResize]="false"
      >
        <ng-template
          ngx-datatable-cell-template
          let-rowIndex="rowIndex"
          let-row="row"
          let-value="value"
        >
          <button class="btn-empty">
            <span
              class="material-icons md-36 text-warning"
              title="Uredi"
              (click)="addOrEditCompany(row)"
              >edit</span
            >
          </button>
          <button class="btn-empty ml-2">
            <span
              class="material-icons md-36 text-danger"
              title="ObriÅ¡i"
              (click)="deleteCompany(row)"
              >delete</span
            >
          </button>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-footer *ngIf="true">
        <ng-template
          ngx-datatable-footer-template
          let-rowCount="rowCount"
          let-pageSize="pageSize"
          let-curPage="curPage"
        >
          <div>
            <span>Ukupno: </span><span>{{ rowCount }}</span>
          </div>
          <datatable-pager
            class="mv-pager"
            [pagerLeftArrowIcon]="'datatable-icon-left'"
            [pagerRightArrowIcon]="'datatable-icon-right'"
            [pagerPreviousIcon]="'datatable-icon-prev'"
            [pagerNextIcon]="'datatable-icon-skip'"
            [page]="curPage"
            [size]="pageSize"
            [count]="rowCount"
            [hidden]="!(rowCount / pageSize > 1)"
            (change)="table.onFooterPage($event)"
          >
          </datatable-pager>
        </ng-template>
      </ngx-datatable-footer>
    </ngx-datatable>
  </div>
</div>
